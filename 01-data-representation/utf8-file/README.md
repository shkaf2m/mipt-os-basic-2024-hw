
# utf8-file

В этой задаче вам предстоит реализовать свой кодек для чтения и записи UTF-8 файлов. В заготовке можно найти следующие функции:
#### `utf8_file_t* utf8_fromfd(int fd)`
Выделяет в куче `utf8_file_t`, инициализирует его и возвращает указатель на объект UTF-8 файла.

#### `int utf8_read(utf8_file_t* f, uint32_t* res, size_t count)`
Должна читать из UTF-8 файла `f` не более `count` Unicode символов в строку `res`. Обратите внимание на тип строки – `uint32_t`! Если достигнут конец файла (и только тогда) нужно вернуть 0. Если был прочитан хотя бы один символ, нужно вернуть количество успешно прочитанных символов. В случае ошибки – выставить `errno` и вернуть отрицательное число. Hint: `errno` может быть уже выставлен системным вызовом.
#### `int utf8_write(utf8_file_t* f, const uint32_t* str, size_t count)`
Должна записывать в файл `f` не более `count` байт из строки `str`. Если был записан хотя бы один символ, нужно вернуть количество успешно записанных символов. В случае ошибки – аналогично `utf8_read`.

В реализации нельзя использовать `fopen`/`fwrite`/`fread`/`fclose`, только ручной ввод-вывод через `open`/`read`/`write`. Буферизацию реализовывать необязательно. Overlong sequences должны быть корректно обработаны.
